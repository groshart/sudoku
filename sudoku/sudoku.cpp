#include <iostream>
#include <sstream>
#include "sudoku.h"

const char *test_data[] = {
	// http://projecteuler.net/problem=96
	"0 0 3 0 2 0 6 0 0 "
	"9 0 0 3 0 5 0 0 1 "
	"0 0 1 8 0 6 4 0 0 "
	"0 0 8 1 0 2 9 0 0 "
	"7 0 0 0 0 0 0 0 8 "
	"0 0 6 7 0 8 2 0 0 "
	"0 0 2 6 0 9 5 0 0 "
	"8 0 0 2 0 3 0 0 9 "
	"0 0 5 0 1 0 3 0 0 ",

	// http://en.wikipedia.org/wiki/Sudoku
	"5 3 0 0 7 0 0 0 0 "
	"6 0 0 1 9 5 0 0 0 "
	"0 9 8 0 0 0 0 6 0 "
	"8 0 0 0 6 0 0 0 3 "
	"4 0 0 8 0 3 0 0 1 "
	"7 0 0 0 2 0 0 0 6 "
	"0 6 0 0 0 0 2 8 0 "
	"0 0 0 4 1 9 0 0 5 "
	"0 0 0 0 8 0 0 7 9 ",

	// The Mepham Diabolical Sudoku Puzzle
	"0 9 0 7 0 0 8 6 0 "
	"0 3 1 0 0 5 0 2 0 "
	"8 0 6 0 0 0 0 0 0 "
	"0 0 7 0 5 0 0 0 6 "
	"0 0 0 3 0 7 0 0 0 "
	"5 0 0 0 1 0 7 0 0 "
	"0 0 0 0 0 0 1 0 9 "
	"0 2 0 6 0 0 3 5 0 "
	"0 5 4 0 0 8 0 7 0 ",

	// Dr. Arto Inkala (2006)
	"8 5 0 0 0 2 4 0 0 "
	"7 2 0 0 0 0 0 0 9 "
	"0 0 4 0 0 0 0 0 0 "
	"0 0 0 1 0 7 0 0 2 "
	"3 0 5 0 0 0 9 0 0 "
	"0 4 0 0 0 0 0 0 0 "
	"0 0 0 0 8 0 0 7 0 "
	"0 1 7 0 0 0 0 0 0 "
	"0 0 0 0 3 6 0 4 0 ",

	// Dr. Arto Inkala (2010)
	"0 0 5 3 0 0 0 0 0 "
	"8 0 0 0 0 0 0 2 0 "
	"0 7 0 0 1 0 5 0 0 "
	"4 0 0 0 0 5 3 0 0 "
	"0 1 0 0 7 0 0 0 6 "
	"0 0 3 2 0 0 0 8 0 "
	"0 6 0 5 0 0 0 0 9 "
	"0 0 4 0 0 0 0 3 0 "
	"0 0 0 0 0 9 7 0 0 ",

	// http://www.telegraph.co.uk/science/science-news/9359579/Worlds-hardest-sudoku-can-you-crack-it.html
	"8 0 0 0 0 0 0 0 0 "
	"0 0 3 6 0 0 0 0 0 "
	"0 7 0 0 9 0 2 0 0 "
	"0 5 0 0 0 7 0 0 0 "
	"0 0 0 0 4 5 7 0 0 "
	"0 0 0 1 0 0 0 3 0 "
	"0 0 1 0 0 0 0 6 8 "
	"0 0 8 5 0 0 0 1 0 "
	"0 9 0 0 0 0 4 0 0 ",

	// https://www.kristanix.com/sudokuepic/worlds-hardest-sudoku.php
	"1 0 0 0 0 7 0 9 0 "
	"0 3 0 0 2 0 0 0 8 "
	"0 0 9 6 0 0 5 0 0 "
	"0 0 5 3 0 0 9 0 0 "
	"0 1 0 0 8 0 0 0 2 "
	"6 0 0 0 0 4 0 0 0 "
	"3 0 0 0 0 0 0 1 0 "
	"0 4 0 0 0 0 0 0 7 "
	"0 0 7 0 0 0 3 0 0 ",

#if 1
	// Skiena "Hard"
	"0 0 0 0 0 0 0 1 2 "
	"0 0 0 0 3 5 0 0 0 "
	"0 0 0 6 0 0 0 7 0 "
	"7 0 0 0 0 0 3 0 0 "
	"0 0 0 4 0 0 8 0 0 "
	"1 0 0 0 0 0 0 0 0 "
	"0 0 0 1 2 0 0 0 0 "
	"0 8 0 0 0 0 0 4 0 "
	"0 5 0 0 0 0 6 0 0 ",

	// http://magictour.free.fr/top95
	"4 0 0 0 0 0 8 0 5 "
	"0 3 0 0 0 0 0 0 0 "
	"0 0 0 7 0 0 0 0 0 "
	"0 2 0 0 0 0 0 6 0 "
	"0 0 0 0 8 0 4 0 0 "
	"0 0 0 0 1 0 0 0 0 "
	"0 0 0 6 0 3 0 7 0 "
	"5 0 0 2 0 0 0 0 0 "
	"1 0 4 0 0 0 0 0 0 ",
#endif
};

const char *one_time[] = {
	"0 0 0 4 8 3 0 0 7 "
	"0 0 1 0 0 0 0 0 0 "
	"0 0 2 0 0 0 0 0 4 "
	"8 4 0 7 0 0 0 0 9 "
	"0 0 7 0 1 0 0 0 0 "
	"0 0 6 0 0 0 0 3 0 "
	"0 3 8 2 0 6 0 0 0 "
	"0 0 0 0 0 5 0 7 0 "
	"9 0 0 1 0 0 0 0 6 "
};

void solve(std::istream &input)
{
	Sudoku game;

	if (input >> game) {
		std::cout << game << '\n';
		if (game.solve()) {
			std::cout << game << '\n';
		}
	}
}

int main()
{
	for (auto puzzle : test_data) {
		std::istringstream input{ puzzle };
		solve(input);
	}
}
